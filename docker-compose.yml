version: '3.8'

services:
  bliply:
    build:
      context: .
      dockerfile: Dockerfile
    image: bliply:latest
    container_name: bliply-rpc-optimizer
    ports:
      - "8000:8000"
    environment:
      - CHAINSTACK_URL=${CHAINSTACK_URL}
      - ALCHEMY_URL=${ALCHEMY_URL}
      - QUICKNODE_URL=${QUICKNODE_URL}
      
      - PAID_PROVIDERS=${PAID_PROVIDERS:-chainstack}
      
    
    volumes:
      # Persist usage counter data
      - ./data:/app/data
      
    restart: unless-stopped
    
    networks:
      - bliply-network

networks:
  bliply-network:
    driver: bridge
